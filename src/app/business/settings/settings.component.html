<div class="max-w-3xl mx-auto p-6 bg-white rounded-2xl shadow-lg dark:bg-gray-800">
    <h2 class="text-2xl font-semibold text-gray-800 dark:text-white mb-6">Configuración</h2>
    
    <!-- Sección: Cuenta -->
    <div class="p-6 bg-[#F5F7FA] dark:bg-gray-700 rounded-xl mb-6 border border-[#E3E6FA] dark:border-gray-600">
      <h3 class="text-lg font-semibold text-[#6C5B7B] dark:text-purple-300 mb-4 flex items-center">
        <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
        </svg>
        Cuenta
      </h3>
      <div class="space-y-4">
        <div>
          <label class="block text-sm font-medium text-gray-600 dark:text-gray-300 mb-1">Correo Electrónico</label>
          <div class="relative">
            <input [(ngModel)]="settings.email" 
                   class="w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-600 text-gray-700 dark:text-white" 
                   disabled
                   placeholder="Tu correo electrónico">
          </div>
        </div>
        
        <div>
          <label class="block text-sm font-medium text-gray-600 dark:text-gray-300 mb-1">Cambiar Contraseña</label>
          <div class="relative">
            <input [type]="showPassword ? 'text' : 'password'" 
                   [(ngModel)]="settings.newPassword" 
                   class="w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-600 text-gray-700 dark:text-white focus:ring-2 focus:ring-primary focus:border-transparent"
                   placeholder="Nueva contraseña">
            <button (click)="togglePasswordVisibility()" class="absolute right-3 top-3 text-gray-500 dark:text-gray-400">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path *ngIf="!showPassword" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"></path>
                <path *ngIf="showPassword" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                <path *ngIf="showPassword" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path>
              </svg>
            </button>
          </div>
          <p *ngIf="passwordError" class="mt-1 text-sm text-red-600 dark:text-red-400">{{ passwordError }}</p>
        </div>
        
        <button (click)="saveChanges()" 
                class="mt-4 w-full bg-primary hover:bg-primary-dark text-white py-3 rounded-lg font-medium transition-colors duration-200 flex items-center justify-center disabled:opacity-50"
                [disabled]="saving">
          <span *ngIf="!saving">Guardar Cambios</span>
          <span *ngIf="saving">Guardando...</span>
          <svg *ngIf="!saving" class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
          </svg>
          <svg *ngIf="saving" class="animate-spin h-5 w-5 ml-2 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
            <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
            <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
          </svg>
        </button>
      </div>
    </div>
  
    <!-- Sección: Notificaciones -->
    <div class="p-6 bg-[#F5F7FA] dark:bg-gray-700 rounded-xl mb-6 border border-[#E3E6FA] dark:border-gray-600">
      <h3 class="text-lg font-semibold text-[#6C5B7B] dark:text-purple-300 mb-4 flex items-center">
        <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"></path>
        </svg>
        Notificaciones
      </h3>
      <div class="space-y-3">
        <label class="flex items-center space-x-3 p-3 hover:bg-[#E3E6FA] dark:hover:bg-gray-600 rounded-lg transition-colors duration-200 cursor-pointer">
          <input type="checkbox" [(ngModel)]="settings.notifications" 
                 class="h-5 w-5 text-primary rounded focus:ring-primary border-gray-300 dark:border-gray-500 dark:bg-gray-600">
          <span class="text-gray-700 dark:text-gray-300">Recibir alertas sobre el riego de tu orquídea</span>
        </label>
        <label class="flex items-center space-x-3 p-3 hover:bg-[#E3E6FA] dark:hover:bg-gray-600 rounded-lg transition-colors duration-200 cursor-pointer">
          <input type="checkbox" [(ngModel)]="settings.newsletter" 
                 class="h-5 w-5 text-primary rounded focus:ring-primary border-gray-300 dark:border-gray-500 dark:bg-gray-600">
          <span class="text-gray-700 dark:text-gray-300">Recibir novedades y consejos sobre orquídeas</span>
        </label>
      </div>
    </div>
  
    <!-- Sección: Tema -->
    <div class="p-6 bg-[#F5F7FA] dark:bg-gray-700 rounded-xl border border-[#E3E6FA] dark:border-gray-600">
      <h3 class="text-lg font-semibold text-[#6C5B7B] dark:text-purple-300 mb-4 flex items-center">
        <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01"></path>
        </svg>
        Apariencia
      </h3>
      <div class="grid grid-cols-2 gap-4">
        <button (click)="changeTheme('light')"
          class="p-4 rounded-lg border-2 flex flex-col items-center transition-all duration-200 hover:border-primary"
          [class.border-primary]="settings.theme === 'light'"
          [class.bg-white]="settings.theme === 'light'"
          [class.border-gray-200]="settings.theme !== 'light'"
          [class.dark:bg-gray-800]="settings.theme !== 'light'">
          <div class="w-12 h-12 rounded-full bg-gradient-to-br from-yellow-200 to-blue-100 mb-2 flex items-center justify-center">
            <svg class="w-6 h-6 text-yellow-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path>
            </svg>
          </div>
          <span class="font-medium">Claro</span>
        </button>
        
        <button (click)="changeTheme('dark')"
          class="p-4 rounded-lg border-2 flex flex-col items-center transition-all duration-200 hover:border-primary"
          [class.border-primary]="settings.theme === 'dark'"
          [class.bg-gray-800]="settings.theme === 'dark'"
          [class.text-white]="settings.theme === 'dark'"
          [class.border-gray-200]="settings.theme !== 'dark'"
          [class.dark:border-gray-600]="settings.theme !== 'dark'">
          <div class="w-12 h-12 rounded-full bg-gradient-to-br from-gray-700 to-gray-900 mb-2 flex items-center justify-center">
            <svg class="w-6 h-6 text-gray-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path>
            </svg>
          </div>
          <span class="font-medium">Oscuro</span>
        </button>
      </div>
    </div>
  </div>